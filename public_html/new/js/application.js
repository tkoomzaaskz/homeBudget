function pageTemplate(a){return"pages/"+a+"/"+a+".html"}function componentTemplate(a){return"components/"+a+"/"+a+".html"}var app=angular.module("duckApp",["restangular","ui.bootstrap","ui.router","cgBusy"]);app.config(["RestangularProvider","baseURL",function(a,b){a.setBaseUrl(b),a.setFullResponse(!0)}]),app.config(["$stateProvider",function(a){a.state("index",{url:"/",views:{main:{templateUrl:pageTemplate("index")}},onEnter:function(){console.log("entered index state")}}),a.state("user-list",{url:"/user-list",views:{main:{templateUrl:pageTemplate("user-list")}},onEnter:function(){console.log("entered user-list state")}}),a.state("outcome-add",{url:"/outcome-add",views:{main:{templateUrl:pageTemplate("outcome-add")}},onEnter:function(){console.log("entered outcome-add state")}}),a.state("outcome-list",{url:"/outcome-list",views:{main:{templateUrl:pageTemplate("outcome-list")}},onEnter:function(){console.log("entered outcome-list state")}}),a.state("income-add",{url:"/income-add",views:{main:{templateUrl:pageTemplate("income-add")}},onEnter:function(){console.log("entered income-add state")}})}]),app.run(["$state",function(a){a.go("index")}]),app.directive("duckFooter",[function(){return{restrict:"E",templateUrl:componentTemplate("footer"),controller:"duckFooterCtrl"}}]),app.controller("duckFooterCtrl",["$scope",function(a){a.year=(new Date).getFullYear()}]),app.service("CategoryModel",["Restangular",function(a){this.getIncomes=function(){return a.withConfig(function(a){a.setDefaultHttpFields({cache:!0})}).one("categories").all("incomes").getList()},this.getOutcomes=function(){return a.withConfig(function(a){a.setDefaultHttpFields({cache:!0})}).one("categories").all("outcomes").getList()}}]),app.service("OutcomeModel",["Restangular",function(a){this.getAll=function(){return a.withConfig(function(a){a.setDefaultHttpFields({cache:!0})}).all("outcomes").getList()},this.isValid=function(a){return void 0!==a.amount&&void 0!==a.categoryId&&void 0!==a.description&&void 0!==a.createdAt&&void 0!==a.createdBy},this.save=function(b){return a.all("outcomes").post(b)}}]),app.service("UserModel",["Restangular",function(a){this.getAll=function(){return a.withConfig(function(a){a.setDefaultHttpFields({cache:!0})}).all("users").getList()},this.get=function(b){return a.all("users").one(b).get()}}]),app.controller("IndexCtrl",["$scope",function(a){a.title="Hello all duck lovers ‚ù§"}]),app.controller("AddOutcomeCtrl",["$scope","$q","$state","UserModel","CategoryModel","OutcomeModel",function(a,b,c,d,e,f){var g=d.getAll(),h=e.getOutcomes(),i=b.all([g,h]);g.then(function(b){a.users=b.data}),h.then(function(b){a.categories=b.data}),a.promise=i,a.clear=function(){a.userForm={amount:void 0,categoryId:void 0,createdBy:void 0,createdAt:new Date,description:void 0}},a.save=function(b){f.isValid(b)?(a.promise=f.save(b),a.promise.then(function(){c.go("outcome-list")})):alert("Missing data!")},a.saveAndAdd=function(b){f.isValid(b)?(a.promise=f.save(b),a.promise.then(function(){a.clear()})):alert("Missing data!")},a.openDatePicker=function(){a.dpOpened=!0},a.dpOpened=!1,a.clear()}]),app.controller("OutcomeListCtrl",["$scope","OutcomeModel",function(a,b){a.promise=b.getAll(),a.promise.then(function(b){a.outcomes=b.data})}]),app.controller("UserListCtrl",["$scope","UserModel",function(a,b){a.promise=b.getAll(),a.promise.then(function(b){a.users=b.data})}]);